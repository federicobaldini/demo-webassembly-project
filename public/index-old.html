<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>WebAssembly Demo</title>
  </head>
  <body>
    <h1>WebAssembly Demo</h1>
    <script src="./main.js"></script>
    <script>
      // Wrap C _greet function as a JavaScript function
      const greet = cwrap("greet", "string", ["string"]);

      // Return a usable int value to C
      function getNumber() {
        return 22;
      }

      // Return a usable string value to C
      function getString() {
        return "Hello from JavaScript!";
      }

      // Wait for WASM (Emscripten) runtime to be ready
      Module["onRuntimeInitialized"] = () => {
        console.log("Runtime ready!");
        console.log(_get_string_value());
      };
    </script>
  </body>
</html>